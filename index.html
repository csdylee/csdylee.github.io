<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëª¨ë˜ ì‹œê³„</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      width: 100vw;
      height: 100vh;
      background: #000000;
      color: #fff;
      font-family: 'Segoe UI', 'Pretendard', 'Apple SD Gothic Neo', Arial, sans-serif;
      overflow: hidden;
    }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      width: 100vw;
    }
    #clock-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100vw;
      height: 100vh;
      user-select: none;
      cursor: pointer;
    }
    #date {
      font-size: clamp(2rem, 6vw, 5rem);
      font-weight: 400;
      letter-spacing: 0.1em;
      margin-bottom: 2vh;
      opacity: 0.85;
      text-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    #time {
      font-size: clamp(4rem, 18vw, 16rem);
      font-weight: 700;
      letter-spacing: 0.05em;
      text-shadow: 0 4px 24px rgba(0,0,0,0.3);
    }
    #weather {
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      font-weight: 500;
      letter-spacing: 0.05em;
      margin-top: 3vh;
      opacity: 0.9;
      text-shadow: 0 2px 8px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    .weather-icon {
      width: clamp(3rem, 6vw, 4.5rem);
      height: clamp(3rem, 6vw, 4.5rem);
    }
    @media (max-width: 600px) {
      #date {
        font-size: clamp(1.2rem, 8vw, 2.5rem);
      }
      #time {
        font-size: clamp(2.5rem, 20vw, 6rem);
      }
      #weather {
        font-size: clamp(1.2rem, 5vw, 2rem);
        flex-direction: column;
        gap: 0.8rem;
        margin-top: 2vh;
      }
      .weather-icon {
        width: clamp(2.5rem, 8vw, 3.5rem);
        height: clamp(2.5rem, 8vw, 3.5rem);
      }
    }
  </style>
</head>
<body>
  <div id="clock-container">
    <div id="date"></div>
    <div id="time"></div>
    <div id="weather"></div>
  </div>
  <script>
    function updateClock() {
      const now = new Date();
      const dateEl = document.getElementById('date');
      const timeEl = document.getElementById('time');
      const dateStr = now.toLocaleDateString('ko-KR', {
        year: 'numeric', month: 'long', day: 'numeric', weekday: 'long'
      });
      const timeStr = now.toLocaleTimeString('ko-KR', {
        hour: '2-digit', minute: '2-digit', hour12: false
      });
      dateEl.textContent = dateStr;
      timeEl.textContent = timeStr;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // ë”ë¸” í´ë¦­ìœ¼ë¡œ ì „ì²´í™”ë©´ í† ê¸€
    document.getElementById('clock-container').addEventListener('dblclick', () => {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    });

    // í´ë¦­ìœ¼ë¡œ ë‹¤ìŒ ì´ë¯¸ì§€ë¡œ ë³€ê²½
    document.getElementById('clock-container').addEventListener('click', (e) => {
      // ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸ì™€ ì¶©ëŒ ë°©ì§€
      if (e.detail === 1) {
        setTimeout(() => {
          if (e.detail === 1) {
            changeBackgroundImage();
          }
        }, 200);
      }
    });

    // í°íŠ¸ í¬ê¸° ìë™ ì¡°ì • (ë°˜ì‘í˜•)
    function resizeFont() {
      // clamp ì‚¬ìš©ìœ¼ë¡œ CSSì—ì„œ ì´ë¯¸ ë°˜ì‘í˜• ì²˜ë¦¬ë¨
      // í•„ìš”ì‹œ ì¶”ê°€ ì¡°ì • ê°€ëŠ¥
    }
    window.addEventListener('resize', resizeFont);
    resizeFont();

    // ë¡œì»¬ ì´ë¯¸ì§€ ë°°ê²½ ë³€ê²½ ê¸°ëŠ¥
    const imageFiles = [
      '0aeb0a18e5164f02ab8.jpg',
      '1341d5f0a7591.jpg',
      '14780ee505d728.jpg',
      '14786ca31eff24.jpg',
      '14786fe712f66a.jpg',
      '1478774f5546f2.jpg',
      '14787ac8772fb1.jpg',
      '152eb29ec7d803.jpg',
      '152f175644215c.jpg',
      '152f1785ae2cfe.jpg',
      '153f629cea75d0.jpg',
      '16892014d69921.jpg',
      '1a0961b0641166.png',
      '21a6f0b3b9136f.jpg',
      '21a6f3ad82d011.jpg',
      '21a6f62d2391dd.jpg',
      '21aab11d0aed00.jpg',
      '225af8c0fefb4c.jpg',
      '2421e7b87441f7.jpeg',
      '285e8fcebfd55a.jpeg',
      '2a27413b0b338b.jpeg',
      '2a4bcf55b49235.jpeg',
      '2a4bd0e640e96d.jpeg',
      '2a4c3cfe93f7b8.jpeg',
      '2a4c3dd2e42fe3.jpeg',
      '2fdf43751f9fa4.jpg',
      '2fdf46d7df742a.jpg',
      '2fdf517cbabdf7.jpg',
      '2fdfaec0383dd5.jpg',
      '2fdfb23dbe5763.jpg',
      '3b8c8172b7aa4571ad6.jpg',
      '4018aa41953336.jpg',
      '533313b594c66e.jpeg',
      '53331aaf050096.jpeg',
      '53331dc97f41ad.jpeg',
      '533324d381b8f8.jpeg',
      '5336db56a46fb2.jpeg',
      '5336ded4cd4766.jpeg',
      '5336e54699fdce.jpeg',
      '534a7ca30e49452fad0.png',
      '6012237169c38a.png',
      '7d4d3025de8973.jpg',
      '868d684abf66a.jpg',
      '868e405f015de.jpg',
      'e6c6226acc93a.jpeg'
    ];

    let currentImageIndex = 0;

    function changeBackgroundImage() {
      const imageFile = imageFiles[currentImageIndex];
      const imagePath = `images/${imageFile}`;
      
      document.body.style.backgroundImage = `linear-gradient(135deg, rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.3) 100%), url('${imagePath}')`;
      document.body.style.backgroundSize = 'cover';
      document.body.style.backgroundPosition = 'center';
      document.body.style.backgroundRepeat = 'no-repeat';
      
      console.log(`ë°°ê²½ ì´ë¯¸ì§€ ë³€ê²½: ${imageFile}`);
      
      // ë‹¤ìŒ ì´ë¯¸ì§€ ì¸ë±ìŠ¤ë¡œ ì´ë™
      currentImageIndex = (currentImageIndex + 1) % imageFiles.length;
    }

    // ë§¤ì‹œê° ì •ê°ì— ë°°ê²½ ì´ë¯¸ì§€ ë³€ê²½
    function scheduleNextHourChange() {
      const now = new Date();
      const nextHour = new Date(now);
      nextHour.setHours(now.getHours() + 1, 0, 0, 0); // ë‹¤ìŒ ì •ê°
      
      const timeUntilNextHour = nextHour.getTime() - now.getTime();
      
      setTimeout(() => {
        changeBackgroundImage();
        scheduleNextHourChange(); // ë‹¤ìŒ ì •ê° ì˜ˆì•½
      }, timeUntilNextHour);
    }

    // ì´ˆê¸° ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì •
    changeBackgroundImage();

    // ë§¤ì‹œê° ì •ê° ë³€ê²½ ìŠ¤ì¼€ì¤„ë§ ì‹œì‘
    scheduleNextHourChange();

    // ë‚ ì”¨ ì •ë³´ ê¸°ëŠ¥ (OpenWeatherMap API ì‚¬ìš©)
    const WEATHER_API_KEY = 'dd1ebbf6e977551f04620b5b88a33e8d'; // OpenWeatherMap API í‚¤ë¥¼ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
    const CITY_NAME = 'Namyangju'; // ë‚¨ì–‘ì£¼ì‹œ
    const COUNTRY_CODE = 'KR'; // í•œêµ­

    // ë‚ ì”¨ ì„¤ëª…ì„ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    function getNaturalKoreanWeather(description, weatherId) {
      // ë‚ ì”¨ IDë³„ ë§¤í•‘ (ë” ì •í™•í•¨)
      const weatherIdMap = {
        // ì²œë‘¥ë²ˆê°œ (200-299)
        200: 'ì²œë‘¥ë²ˆê°œì™€ ê°€ë²¼ìš´ ë¹„',
        201: 'ì²œë‘¥ë²ˆê°œì™€ ë¹„',
        202: 'ì²œë‘¥ë²ˆê°œì™€ í­ìš°',
        210: 'ê°€ë²¼ìš´ ì²œë‘¥ë²ˆê°œ',
        211: 'ì²œë‘¥ë²ˆê°œ',
        212: 'ê°•í•œ ì²œë‘¥ë²ˆê°œ',
        221: 'ë§¤ìš° ê°•í•œ ì²œë‘¥ë²ˆê°œ',
        230: 'ì²œë‘¥ë²ˆê°œì™€ ê°€ë²¼ìš´ ì´ìŠ¬ë¹„',
        231: 'ì²œë‘¥ë²ˆê°œì™€ ì´ìŠ¬ë¹„',
        232: 'ì²œë‘¥ë²ˆê°œì™€ ê°•í•œ ì´ìŠ¬ë¹„',
        
        // ì´ìŠ¬ë¹„ (300-399)
        300: 'ê°€ë²¼ìš´ ì´ìŠ¬ë¹„',
        301: 'ì´ìŠ¬ë¹„',
        302: 'ê°•í•œ ì´ìŠ¬ë¹„',
        310: 'ê°€ë²¼ìš´ ì´ìŠ¬ë¹„',
        311: 'ì´ìŠ¬ë¹„',
        312: 'ê°•í•œ ì´ìŠ¬ë¹„',
        313: 'ì†Œë‚˜ê¸°ì™€ ì´ìŠ¬ë¹„',
        314: 'ê°•í•œ ì†Œë‚˜ê¸°ì™€ ì´ìŠ¬ë¹„',
        321: 'ì†Œë‚˜ê¸°',
        
        // ë¹„ (500-599)
        500: 'ê°€ë²¼ìš´ ë¹„',
        501: 'ë¹„',
        502: 'ê°•í•œ ë¹„',
        503: 'ë§¤ìš° ê°•í•œ ë¹„',
        504: 'ê·¹ì‹¬í•œ ë¹„',
        511: 'ì§„ëˆˆê¹¨ë¹„',
        520: 'ê°€ë²¼ìš´ ì†Œë‚˜ê¸°',
        521: 'ì†Œë‚˜ê¸°',
        522: 'ê°•í•œ ì†Œë‚˜ê¸°',
        531: 'ë§¤ìš° ê°•í•œ ì†Œë‚˜ê¸°',
        
        // ëˆˆ (600-699)
        600: 'ê°€ë²¼ìš´ ëˆˆ',
        601: 'ëˆˆ',
        602: 'ê°•í•œ ëˆˆ',
        611: 'ì§„ëˆˆê¹¨ë¹„',
        612: 'ê°€ë²¼ìš´ ì§„ëˆˆê¹¨ë¹„',
        613: 'ì§„ëˆˆê¹¨ë¹„',
        615: 'ê°€ë²¼ìš´ ë¹„ì™€ ëˆˆ',
        616: 'ë¹„ì™€ ëˆˆ',
        620: 'ê°€ë²¼ìš´ ì†Œë‚˜ê¸°ì™€ ëˆˆ',
        621: 'ì†Œë‚˜ê¸°ì™€ ëˆˆ',
        622: 'ê°•í•œ ì†Œë‚˜ê¸°ì™€ ëˆˆ',
        
        // ëŒ€ê¸° í˜„ìƒ (700-799)
        701: 'ì—°ë¬´',
        711: 'ì—°ê¸°',
        721: 'ì—°ë¬´',
        731: 'ëª¨ë˜/ë¨¼ì§€ ì†Œìš©ëŒì´',
        741: 'ì•ˆê°œ',
        751: 'ëª¨ë˜',
        761: 'ë¨¼ì§€',
        762: 'í™”ì‚°ì¬',
        771: 'ëŒí’',
        781: 'í† ë„¤ì´ë„',
        
        // ë§‘ìŒ (800)
        800: 'ë§‘ìŒ',
        
        // êµ¬ë¦„ (801-899)
        801: 'êµ¬ë¦„ ì¡°ê¸ˆ',
        802: 'êµ¬ë¦„ ë§ìŒ',
        803: 'êµ¬ë¦„ ë§ìŒ',
        804: 'íë¦¼'
      };
      
      // ì„¤ëª…ë³„ ë§¤í•‘ (ë°±ì—…ìš©)
      const weatherMap = {
        'ë§‘ìŒ': 'ë§‘ìŒ',
        'clear sky': 'ë§‘ìŒ',
        'íë¦¼': 'íë¦¼',
        'overcast clouds': 'íë¦¼',
        'scattered clouds': 'êµ¬ë¦„ ì¡°ê¸ˆ',
        'broken clouds': 'êµ¬ë¦„ ë§ìŒ',
        'few clouds': 'êµ¬ë¦„ ì¡°ê¸ˆ',
        'ë¹„': 'ë¹„',
        'light rain': 'ê°€ë²¼ìš´ ë¹„',
        'moderate rain': 'ë¹„',
        'heavy rain': 'í­ìš°',
        'shower rain': 'ì†Œë‚˜ê¸°',
        'rain': 'ë¹„',
        'ëˆˆ': 'ëˆˆ',
        'light snow': 'ê°€ë²¼ìš´ ëˆˆ',
        'moderate snow': 'ëˆˆ',
        'heavy snow': 'í­ì„¤',
        'snow': 'ëˆˆ',
        'sleet': 'ì§„ëˆˆê¹¨ë¹„',
        'ì•ˆê°œ': 'ì•ˆê°œ',
        'mist': 'ì•ˆê°œ',
        'fog': 'ì§™ì€ ì•ˆê°œ',
        'haze': 'ì—°ë¬´',
        'thunderstorm': 'ì²œë‘¥ë²ˆê°œ',
        'thunderstorm with light rain': 'ì²œë‘¥ë²ˆê°œì™€ ê°€ë²¼ìš´ ë¹„',
        'thunderstorm with rain': 'ì²œë‘¥ë²ˆê°œì™€ ë¹„',
        'thunderstorm with heavy rain': 'ì²œë‘¥ë²ˆê°œì™€ í­ìš°',
        'smoke': 'ì—°ê¸°',
        'dust': 'ë¨¼ì§€',
        'sand': 'ëª¨ë˜',
        'ash': 'ì¬',
        'squall': 'ëŒí’',
        'tornado': 'í† ë„¤ì´ë„'
      };
      
      // ID ë§¤í•‘ì„ ìš°ì„  ì‚¬ìš©, ì—†ìœ¼ë©´ ì„¤ëª… ë§¤í•‘ ì‚¬ìš©
      if (weatherId && weatherIdMap[weatherId]) {
        return weatherIdMap[weatherId];
      }
      
      return weatherMap[description] || description;
    }

    async function getWeather() {
      try {

        const response = await fetch(
          `https://api.openweathermap.org/data/2.5/weather?lat=37.6569856&lon=127.287296&id&appid=${WEATHER_API_KEY}&units=metric&lang=kr`
        );

        if (!response.ok) {
          throw new Error('ë‚ ì”¨ API ìš”ì²­ ì‹¤íŒ¨');
        }

        const data = await response.json();
        
        const temp = Math.round(data.main.temp);
        const humidity = data.main.humidity;
        const originalDescription = data.weather[0].description;
        const weatherId = data.weather[0].id;
        const iconCode = data.weather[0].icon;
        
        // API ì‘ë‹µ í™•ì¸ìš© ë¡œê·¸
        console.log('Weather API Response:', data);
        console.log('Weather ID:', weatherId);
        console.log('Original description:', originalDescription);
        
        // ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ë¡œ ë³€í™˜
        const naturalDescription = getNaturalKoreanWeather(originalDescription, weatherId);
        console.log('Natural Korean description:', naturalDescription);
        
        // ë‚ ì”¨ ì•„ì´ì½˜ URL
        const iconUrl = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        
        // ë‚ ì”¨ ì •ë³´ HTML ìƒì„±
        const weatherHTML = `
          <img src="${iconUrl}" alt="${naturalDescription}" class="weather-icon">
          <span>${temp}Â°C</span>
          <span>${naturalDescription}</span>
          <span>ìŠµë„: ${humidity}%</span>
        `;
        
        document.getElementById('weather').innerHTML = weatherHTML;
        
      } catch (error) {
        console.log('ë‚ ì”¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
        document.getElementById('weather').innerHTML = `
          <span>ğŸŒ¤ï¸ ë‚¨ì–‘ì£¼ì‹œ</span>
          <span>ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</span>
        `;
      }
    }

    // ì´ˆê¸° ë‚ ì”¨ ì •ë³´ ë¡œë“œ
    getWeather();

    // 10ë¶„ë§ˆë‹¤ ë‚ ì”¨ ì •ë³´ ì—…ë°ì´íŠ¸ (600000ms = 10ë¶„)
    setInterval(() => {
      getWeather();
    }, 600000);
  </script>
</body>
</html>